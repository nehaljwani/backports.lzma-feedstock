From b808eb63b3e4187d8aa689ad36f6e3fc4dad15ef Mon Sep 17 00:00:00 2001
From: Nehal J Wani <nehaljw.kkd1@gmail.com>
Date: Sun, 24 Dec 2017 01:16:08 +0530
Subject: [PATCH 2/4] Fix 'name' of extension

According to the documentation of distutils, 'name' is:
    the full name of the extension, including any packages - ie. not a
    filename or pathname, but Python dotted name

This patch replaces the pathname with the actual Python dotted name.
Without this, a build on Windows fails with:

Cannot export initbackports/lzma/_lzma: symbol not defined
---
 setup.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/setup.py b/setup.py
index 55c6847..477b9f4 100644
--- a/setup.py
+++ b/setup.py
@@ -30,7 +30,7 @@ print("This is backports.lzma version %s" % __version__)
 packages = ["backports", "backports.lzma"]
 prefix = sys.prefix
 home = os.path.expanduser("~")
-extens = [Extension('backports/lzma/_lzma',
+extens = [Extension('backports.lzma._lzma',
                     ['backports/lzma/_lzmamodule.c'],
                     libraries = ['lzma'],
                     include_dirs = [
-- 
2.14.3

